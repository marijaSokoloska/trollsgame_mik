<!doctype html>
<html lang="mk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ChatGuard Prototype</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>

  <div id="introOverlay" class="overlay">
    <div class="popup">
      <div class="popup-top">
        <img src="assets/mentor.png" class="avatar mentor" alt="–ú–∞—Ä–∫–æ">
        <div class="popup-title">–ï—ò, —ò–∞—Å —Å—É–º –ú–∞—Ä–∫–æ!</div>
      </div>
      <div class="popup-text">
        –ú–∏ –ø–∏—à—É–≤–∞–∞—Ç –Ω–µ–∫–æ–∏ –ª—É—ì–µ —à—Ç–æ –Ω–µ –≥–∏ –ø–æ–∑–Ω–∞–≤–∞–º –¥–æ–±—Ä–æ... <br><br>
        <b>–ú–æ–∂–µ—à –ª–∏ –¥–∞ –º–∏ –ø–æ–º–æ–≥–Ω–µ—à –¥–∞ –æ–¥–ª—É—á–∞–º —à—Ç–æ –¥–∞ –∏–º –æ–¥–≥–æ–≤–æ—Ä–∞–º?</b>
      </div>
      <button id="btnIntroOk" class="btn btn-like">–ú–æ–∂–µ, –∞—ò–¥–µ!</button>
    </div>
  </div>

  <div id="levelMenuOverlay" class="overlay hidden">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">–ò–∑–±–µ—Ä–∏ –ù–∏–≤–æ</div>
      </div>
      <p class="modal-subtitle">–ü–æ–º–æ–≥–Ω–∏ –º—É –Ω–∞ –ú–∞—Ä–∫–æ –¥–∞ –æ—Å—Ç–∞–Ω–µ –±–µ–∑–±–µ–¥–µ–Ω!</p>
      
      <div class="level-list">
        <button class="btn btn-like" onclick="selectLevel(0)">–ù–∏–≤–æ 1 (–õ–µ—Å–Ω–æ)</button>
        <button id="lvlBtn1" class="btn btn-ghost" onclick="selectLevel(1)" disabled>–ù–∏–≤–æ 2 (–°—Ä–µ–¥–Ω–æ) üîí</button>
        <button id="lvlBtn2" class="btn btn-ghost" onclick="selectLevel(2)" disabled>–ù–∏–≤–æ 3 (–¢–µ—à–∫–æ) üîí</button>
      </div>

      <hr style="margin: 20px 0; border: 0; border-top: 1px solid rgba(255,255,255,0.1);">
      
      <div style="text-align: center;">
        <button id="btnSecretMenu" class="btn btn-ghost" disabled>üîê –í–Ω–µ—Å–∏ —Ç–∞–µ–Ω –∫–æ–¥</button>
      </div>

      <div style="margin-top: 30px; text-align: center;">
        <button onclick="window.resetGame()" style="background:none; border:none; color:rgba(255,255,255,0.5); font-size:12px; cursor:pointer; text-decoration:underline;">
            –ò–∑–±—Ä–∏—à–∏ –≥–æ –ø—Ä–æ–≥—Ä–µ—Å–æ—Ç –∏ –ø–æ—á–Ω–∏ –æ–¥ –ø–æ—á–µ—Ç–æ–∫
        </button>
      </div>
    </div>
  </div>

  <div class="app">
    <header class="topbar">
      <div class="top-left">
        <button id="btnBack" class="icon-btn">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
            <path d="M19 12H5M12 19l-7-7 7-7"/>
          </svg>
        </button>
        <img class="avatar" id="trollAvatar" src="assets/troll.jpg" />
        <div class="title">
          <div class="name">@–Ω–µ–ø–æ–∑–Ω–∞—Ç_–ø—Ä–æ—Ñ–∏–ª</div>
          <div class="subtitle" id="levelInfo">–ù–∏–≤–æ 1</div>
        </div>
      </div>
      <div class="top-right">
        <div class="pill" id="scoreInfo">–¢–æ—á–Ω–æ: 0</div>
      </div>
    </header>

    <main class="chat" id="chat"></main>

    <footer class="actionbar">
      <div class="input-row">
        <input id="replyInput" class="reply-input" type="text" placeholder="–ß–µ–∫–∞—ö–µ –æ–¥–≥–æ–≤–æ—Ä..." readonly />
      </div>
      <div class="actions">
        <button id="btnSend" class="btn btn-like">üì® –û–î–ì–û–í–û–†–ò</button>
        <button id="btnReport" class="btn btn-report">üö© –ü–†–ò–à–ê–í–ò</button>
      </div>
    </footer>
  </div>

  <div class="overlay hidden" id="reportOverlay">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">–ó–æ—à—Ç–æ –ø—Ä–∏—ò–∞–≤—É–≤–∞—à?</div>
      </div>
      <div class="reason-list" id="reasonList"></div>
      <div class="modal-footer">
        <button class="btn btn-ghost" id="btnCancelReport">–û—Ç–∫–∞–∂–∏</button>
      </div>
    </div>
  </div>

  <div class="overlay hidden" id="markoOverlay">
    <div class="popup">
      <div class="popup-top">
        <img class="avatar mentor" src="assets/mentor.png" />
        <div class="popup-title">–ú–∞—Ä–∫–æ –≤–µ–ª–∏:</div>
      </div>
      <div class="popup-text" id="markoText"></div>
      <button class="btn btn-like" id="btnMarkoOk">–í–æ —Ä–µ–¥</button>
    </div>
  </div>

  <div class="overlay hidden" id="codeOverlay">
    <div class="popup">
      <div class="popup-title">–ó–∞–ø–æ–º–Ω–∏ –≥–æ –µ–º–æ—ü–∏—Ç–æ!</div>
      <p>–ö–æ—ò –±–µ—à–µ —Ç–∞—ò–Ω–∏–æ—Ç –∫–ª—É—á —à—Ç–æ —Ç–∏ –≥–æ –¥–∞–¥–µ –ú–∞—Ä–∫–æ?</p>
      <div class="option-list" id="codeOptions" style="display: flex; justify-content: center; gap: 10px;"></div>
    </div>
  </div>

  <div id="secretCodeOverlay" class="overlay hidden">
    <div class="modal">
      <div class="modal-title">üîì –û—Ç–∫–ª—É—á–∏ –≥–æ –°–µ—Ñ–æ—Ç</div>
      <p>–ü–æ—Ä–µ–¥–µ—Ç–µ –≥–∏ –µ–º–æ—ü–∏—ò–∞—Ç–∞ —à—Ç–æ –≥–∏ –¥–æ–±–∏–≤—Ç–µ –ø–æ —Å–µ–∫–æ–µ –Ω–∏–≤–æ –ø–æ —Ç–æ—á–µ–Ω —Ä–µ–¥–æ—Å–ª–µ–¥:</p>
      
      <div class="emoji-slots">
        <div class="slot" data-index="0"></div>
        <div class="slot" data-index="1"></div>
        <div class="slot" data-index="2"></div>
      </div>

      <div class="emoji-bank" id="emojiBank"></div>
      
      <div id="secretErrorCounter" style="color: #ff4757; font-weight: bold; margin: 10px 0; font-size: 14px;">
        –ì—Ä–µ—à–Ω–∏ –æ–±–∏–¥–∏: 0
      </div>

      <div class="modal-footer" style="display: flex; gap: 10px; width: 100%;">
        <button id="btnCheckSecret" class="btn btn-like">–ü–†–û–í–ï–†–ò</button>
        <button id="btnCancelSecret" class="btn btn-ghost">–û—Ç–∫–∞–∂–∏</button>
      </div>
    </div>
  </div>

  <div id="victoryOverlay" class="overlay hidden">
    <div class="popup">
      <div style="font-size: 80px;">üèÜ</div>
      <div class="popup-title">–ë–†–ê–í–û –®–ê–ú–ü–ò–û–ù–ï!</div>
      <div class="popup-text">
        –£—Å–ø–µ—à–Ω–æ –≥–æ –∑–∞—à—Ç–∏—Ç–∏ –ú–∞—Ä–∫–æ –æ–¥ —Å–∏—Ç–µ –æ–Ω–ª–∞—ò–Ω –∑–∞–∫–∞–Ω–∏ –∏ –≥–æ –æ—Ç–∫–ª—É—á–∏ –Ω–µ–≥–æ–≤–∏–æ—Ç —Å–µ—Ñ —Å–æ —Ç–∞—ò–Ω–∏ –∑–Ω–∞–µ—ö–∞. –°–µ–≥–∞ —Å–∏ –≤–∏—Å—Ç–∏–Ω—Å–∫–∏ –µ–∫—Å–ø–µ—Ä—Ç –∑–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –±–µ–∑–±–µ–¥–Ω–æ—Å—Ç!
      </div>
      <button onclick="location.reload()" class="btn btn-like">–ò–ì–†–ê–à –ü–û–í–¢–û–†–ù–û</button>
    </div>
  </div>

  <script src="data.js"></script>
  <script src="app.js"></script>
</body>
</html>
